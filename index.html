<script>
  const ideas = [
    "Couch flipping", "Airbnb arbitrage", "Wholesale real estate",
    "Print on demand T-shirts", "Sell digital planners on Etsy", "Create faceless YouTube videos",
    "Self-publish low-content books", "Online tutoring", "Amazon FBA",
    "Flipping domain names", "Drop servicing", "Offer Notion templates",
    "Sell Canva templates", "Rent your car on Turo", "Voiceover acting",
    "Freelance video editing", "Write newsletters with Beehiiv", "Manage social media for businesses",
    "Remote customer service gigs", "Sell prompts for AI tools", "Run TikTok ads for local businesses",
    "Instagram growth consulting", "Freelance UGC content creation", "Virtual assistant services",
    "Create and sell online courses", "Tech support freelancing", "Flipping yard sale items",
    "License your photography", "Create stock music", "Print on demand journals",
    "Etsy mystery boxes", "Digital coloring books", "Freelance copywriting",
    "Subscription box reselling", "Crypto affiliate programs", "Build and flip Shopify stores",
    "Design logos on Fiverr", "Run a podcast network", "Build SaaS tools with no-code",
    "Print merch for influencers", "Offer AI automation services", "Website flipping",
    "Sell PowerPoint templates", "Dropship from local suppliers", "Mobile detailing business",
    "Offer resume writing", "Event videography", "Offer drone photography",
    "Design tattoo ideas", "Ghostwrite eBooks", "Curate Amazon storefronts",
    "Freelance email marketing", "Etsy wall art printables", "Flipping vintage clothes",
    "Sell MRR products", "Pet sitting services", "Sell car decals",
    "Create a local newsletter", "Write business plans", "Flip vending machines",
    "Buy and sell concert tickets", "Niche meme pages", "Offer bookkeeping services",
    "Teach music lessons online", "Host virtual workshops", "Real estate bird dogging",
    "LinkedIn profile optimization", "Offer proofreading services", "Build niche websites",
    "Monetize your email list", "Buy and flip electronics", "Flipping Pokemon cards",
    "Sell phone wallpapers", "Write scripts for YouTubers", "Niche coaching/consulting",
    "Sell fonts or typefaces", "Dropshipping with personalization", "Etsy SVG bundles",
    "Offer online fitness coaching", "Buy liquidation pallets", "Create viral Twitter threads",
    "Offer Fiverr gigs as bundles", "Run IG pages then sell shoutouts", "Review tech products on YouTube",
    "Use GPT to write niche guides", "Host Airbnb experiences", "Offer Canva coaching",
    "Review products on TikTok", "Create AI coloring books", "Become an affiliate for SaaS tools",
    "Resell online subscriptions", "Run a fantasy sports newsletter", "Sell editable wedding invites",
    "Create a job board site", "Build PLR product bundles", "Rent out photography gear",
    "Sell niche eBook guides", "Flip clearance items on eBay", "Write blog posts for others",
    "License your art to POD platforms"
  ];

  let count = parseInt(localStorage.getItem("clickCount")) || 0;
  const maxClicks = 3;
  const ideaBox = document.getElementById("ideaBox");
  const limitBox = document.getElementById("limitBox");
  const signupBox = document.getElementById("signupBox");
  const countdown = document.getElementById("countdown");

  function generateIdea() {
    if (count >= maxClicks) {
      showLimit();
      return;
    }

    // Select a random idea that hasn't already been shown
    let shownIdeas = JSON.parse(localStorage.getItem("shownIdeas") || "[]");
    let remainingIdeas = ideas.filter(idea => !shownIdeas.includes(idea));

    if (remainingIdeas.length === 0) {
      remainingIdeas = ideas; // Reset if somehow all are shown
      shownIdeas = [];
    }

    const randomIdea = remainingIdeas[Math.floor(Math.random() * remainingIdeas.length)];
    ideaBox.innerText = randomIdea;

    // Track
    shownIdeas.push(randomIdea);
    localStorage.setItem("shownIdeas", JSON.stringify(shownIdeas));
    count++;
    localStorage.setItem("clickCount", count);

    if (count >= maxClicks) {
      showLimit();
    }
  }

  function showLimit() {
    limitBox.style.display = "block";
    signupBox.style.display = "block";

    let seconds = 86400 - (Math.floor(Date.now() / 1000) % 86400);
    const interval = setInterval(() => {
      seconds--;
      const hrs = Math.floor(seconds / 3600);
      const mins = Math.floor((seconds % 3600) / 60);
      const secs = seconds % 60;
      countdown.innerText = `‚è≥ Come back in ${hrs}h ${mins}m ${secs}s for a new hustle!`;
      if (seconds <= 0) clearInterval(interval);
    }, 1000);
  }

  function handleSuccess() {
    setTimeout(() => {
      document.getElementById('success-msg').style.display = 'block';
    }, 1000);
  }
</script>
